{% extends 'base.html.twig' %}

{% block title %}Register{% endblock %}

{% block body %}

<div class="container mt-5">
    <div class="register-container">
        <h1 class="text-center">Registro</h1>
        {{ form_start(registrationForm) }}
            <div class="form-group">
                {{ form_row(registrationForm.email, {'attr': {'class': 'form-control', 'placeholder': 'Correo electrónico'}}) }}
            </div>
            <div class="form-group">
                {{ form_row(registrationForm.plainPassword, {
                    label: 'Contraseña',
                    'attr': {'class': 'form-control', 'placeholder': 'Contraseña'}
                }) }}
            </div>
            <div class="form-group form-check">
                {{ form_row(registrationForm.agreeTerms, {'attr': {'class': 'form-check-input'}}) }}
                <label class="form-check-label" for="agreeTerms">Acepto los términos y condiciones</label>
            </div>
            <button type="submit" class="btn btn-lg btn-primary btn-block">Registrar</button>
        {{ form_end(registrationForm) }}
    </div>
</div>
{% endblock %}

{% block stylesheets %}
    <link rel="stylesheet" href="{{ asset('css/register.css') }}">
{% endblock %}

{% block javascripts %}
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Verificar si la página ya ha sido recargada
        if (!localStorage.getItem('pageReloaded')) {
            // Establecer la clave en localStorage para evitar recargas infinitas
            localStorage.setItem('pageReloaded', 'true');
            // Recargar la página
            location.reload();
        }
    });
</script>
{% endblock %}